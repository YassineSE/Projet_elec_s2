Version 4
SHEET 1 3444 708
WIRE 2160 -2112 1248 -2112
WIRE 16 -2080 -528 -2080
WIRE 1152 -2080 96 -2080
WIRE -608 -2048 -1072 -2048
WIRE -816 -1936 -976 -1936
WIRE 1984 -1936 1856 -1936
WIRE 1664 -1920 1584 -1920
WIRE -976 -1904 -976 -1936
WIRE 1904 -1904 1856 -1904
WIRE 1936 -1872 1856 -1872
WIRE -416 -1824 -464 -1824
WIRE -96 -1824 -160 -1824
WIRE -832 -1728 -976 -1728
WIRE -976 -1696 -976 -1728
WIRE -288 -1696 -288 -1728
WIRE 96 -1696 96 -2080
WIRE 1152 -1696 1152 -2080
WIRE 1152 -1696 96 -1696
WIRE 2000 -1696 1856 -1696
WIRE 1664 -1680 1584 -1680
WIRE 1888 -1664 1856 -1664
WIRE 1664 -1648 1440 -1648
WIRE -528 -1632 -528 -2080
WIRE 16 -1632 16 -2080
WIRE 16 -1632 -528 -1632
WIRE 1936 -1632 1856 -1632
WIRE 1184 -1600 96 -1600
WIRE 0 -1520 -528 -1520
WIRE 2384 -1520 2336 -1520
WIRE -1072 -1488 -1072 -2048
WIRE -608 -1488 -608 -2048
WIRE -608 -1488 -1072 -1488
WIRE -640 -1440 -1072 -1440
WIRE 2336 -1424 2336 -1520
WIRE -960 -1344 -1024 -1344
WIRE -784 -1344 -848 -1344
WIRE 2016 -1328 1904 -1328
WIRE -1024 -1312 -1024 -1344
WIRE -848 -1312 -848 -1344
WIRE 1712 -1312 1632 -1312
WIRE 1936 -1296 1904 -1296
WIRE 1712 -1280 1456 -1280
WIRE 1984 -1264 1904 -1264
WIRE 96 -1168 96 -1600
WIRE 1184 -1168 1184 -1600
WIRE 1184 -1168 96 -1168
WIRE -1072 -1152 -1072 -1440
WIRE -640 -1152 -640 -1440
WIRE -640 -1152 -1072 -1152
WIRE 1184 -1120 96 -1120
WIRE 2016 -1056 1904 -1056
WIRE -528 -1040 -528 -1520
WIRE 0 -1040 0 -1520
WIRE 0 -1040 -528 -1040
WIRE 704 -1040 688 -1040
WIRE 1712 -1040 1632 -1040
WIRE 1936 -1024 1904 -1024
WIRE -16 -1008 -560 -1008
WIRE 1712 -1008 1520 -1008
WIRE 1984 -992 1904 -992
WIRE 688 -960 688 -1040
WIRE 688 -960 640 -960
WIRE 784 -928 640 -928
WIRE 864 -896 640 -896
WIRE -320 -864 -464 -864
WIRE 784 -864 640 -864
WIRE 864 -848 864 -896
WIRE 1248 -848 1248 -2112
WIRE 2160 -848 2160 -2112
WIRE 2160 -848 1248 -848
WIRE -464 -832 -464 -864
WIRE 448 -800 320 -800
WIRE 448 -768 320 -768
WIRE 448 -736 320 -736
WIRE 784 -736 784 -864
WIRE 960 -736 784 -736
WIRE -336 -624 -480 -624
WIRE 96 -608 96 -1120
WIRE 1184 -608 1184 -1120
WIRE 1184 -608 96 -608
WIRE -480 -592 -480 -624
WIRE -752 -464 -768 -464
WIRE -560 -448 -560 -1008
WIRE -16 -448 -16 -1008
WIRE -16 -448 -560 -448
FLAG 2336 -1360 0
FLAG -976 -1616 0
FLAG -976 -1824 0
FLAG -816 -1936 V_CV1
IOPIN -816 -1936 Out
FLAG -832 -1728 V_GATE
IOPIN -832 -1728 Out
FLAG 2384 -1520 Vs
IOPIN 2384 -1520 In
FLAG 160 -1040 vA
IOPIN 160 -1040 In
FLAG 240 -1040 VB
IOPIN 240 -1040 In
FLAG 1584 -1920 CTRL0
IOPIN 1584 -1920 In
FLAG 1904 -1904 VDD
IOPIN 1904 -1904 In
FLAG 1936 -1872 0
FLAG 1984 -1936 Vs
IOPIN 1984 -1936 Out
FLAG 1632 -1312 CTRL2
IOPIN 1632 -1312 In
FLAG 1936 -1296 VDD
IOPIN 1936 -1296 In
FLAG 1984 -1264 0
FLAG 2016 -1328 Vs
IOPIN 2016 -1328 Out
FLAG 1584 -1680 CTRL1
IOPIN 1584 -1680 In
FLAG 1888 -1664 VDD
IOPIN 1888 -1664 In
FLAG 1936 -1632 0
FLAG 1632 -1040 CTRL3
IOPIN 1632 -1040 In
FLAG 1936 -1024 VDD
IOPIN 1936 -1024 In
FLAG 1984 -992 0
FLAG 2016 -1056 Vs
IOPIN 2016 -1056 Out
FLAG 2000 -1696 Vs
IOPIN 2000 -1696 Out
FLAG -1024 -1232 0
FLAG -960 -1344 VCC
IOPIN -960 -1344 Out
FLAG -848 -1232 0
FLAG -784 -1344 VSS
IOPIN -784 -1344 Out
FLAG 1088 -1376 vA
IOPIN 1088 -1376 Out
FLAG -96 -1824 VDD
IOPIN -96 -1824 Out
FLAG -288 -1696 0
FLAG -464 -1824 Vcc
IOPIN -464 -1824 In
FLAG 224 -1904 V_GATE
IOPIN 224 -1904 In
FLAG 960 -1920 VB
IOPIN 960 -1920 Out
FLAG 960 -1808 Vimp
IOPIN 960 -1808 Out
FLAG -480 -512 0
FLAG -336 -624 VB_sim
IOPIN -336 -624 Out
FLAG -464 -752 0
FLAG -320 -864 Vimp_sim
IOPIN -320 -864 Out
SYMBOL voltage -976 -1712 R0
WINDOW 3 -60 168 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR Value PWL(0 0 0.1 0 0.10000001 12 1.2 12 1.20000001 0 1.79999999 0 1.8 12 1.8999999 12 1.9 0 1.91 0 1.9111111 12)
SYMATTR SpiceLine Rser=50
SYMATTR InstName V3
SYMBOL voltage -976 -1920 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V4
SYMATTR Value 1.5
SYMBOL cap 2320 -1424 R0
WINDOW 3 -36 42 Left 2
SYMATTR Value 0.33µ
SYMATTR InstName Cout
SYMBOL 74hct138 544 -1024 R0
SYMATTR InstName U3
SYMBOL 74hct04 752 -1104 R0
WINDOW 3 -46 7 Left 2
SYMATTR InstName U5
SYMBOL 74hct04 912 -912 R0
SYMATTR InstName U8
SYMBOL 74hct04 1008 -800 R0
SYMATTR InstName U9
SYMBOL 74hct04 832 -992 R0
WINDOW 3 -43 14 Left 2
SYMATTR InstName U1
SYMBOL CD4066 1760 -1664 R0
SYMATTR InstName U4
SYMBOL CD4066 1808 -1024 R0
SYMATTR InstName U6
SYMBOL CD4066 1760 -1904 R0
SYMATTR InstName U7
SYMBOL CD4066 1808 -1296 R0
SYMATTR InstName U10
SYMBOL voltage -1024 -1328 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V1
SYMATTR Value 15
SYMBOL voltage -848 -1328 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V2
SYMATTR Value -15
SYMBOL 74hct123 976 -1536 R0
SYMATTR InstName U2
SYMBOL 7805 -288 -1824 R0
SYMATTR InstName U11
SYMBOL voltage -480 -608 R0
WINDOW 3 -60 168 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR Value PWL(0 0 0.1 0 0.10000001 5 1.2 5 1.20000001 0 2 0 2.0000001 5 2.2 5 2.2000001 0)
SYMATTR SpiceLine Rser=50
SYMATTR InstName V5
SYMBOL voltage -464 -848 R0
WINDOW 3 -60 168 Invisible 2
WINDOW 123 0 0 Left 2
SYMATTR Value PWL(0 0 0.1 0 0.10000001 5 0.100008 5 0.1000081 0 2 0 2.0000001 5 2.000008 5 2.0000081 0)
SYMATTR SpiceLine Rser=50
SYMATTR InstName V6
TEXT -464 -1240 Left 2 !.tran 0 4 0 100U startup uic
TEXT 480 -2240 Left 2 ;Generateur d'Enveloppe ADSR\nAutomne 2020
TEXT -1056 -2016 Left 2 ;SIGNAUX MCV4
TEXT -480 -1440 Left 2 ;SPICE DIRECTIVES et SIMULATION
TEXT -464 -1152 Left 2 !.ic V(C1) = 0\n.ic V(Cout) = 0
TEXT -448 -1376 Left 2 !.inc 74hct_ENIB.lib\n \n.inc CD4066.lib
TEXT 120 -2048 Left 2 ;adaptations : schéma à tester dans\n un fichier .asc à part puis à recopier ici
TEXT 112 -1576 Left 2 ;monostable déclenchement front montant\n1seule des 2 structures intégrées \ndans le composant est représentée
TEXT 128 -1080 Left 2 ;décodeur 3 bits et portes NON
TEXT 1272 -2080 Left 2 ;switchs commandés\nCouples Vx, Rx à raccrocher\nindépendamment\nsur chaque entrées
TEXT -1056 -1416 Left 2 ;alimentations
TEXT 112 -1464 Left 2 ;composants à rajouter autour : \nR1et C1
TEXT -496 -2056 Left 2 ;le RIT est  simulé par le composant ci dessous\nUn élément est à rajouter pour garantir \nla stabilitéde la tension de sortie\nface aux appels de courants
TEXT -448 -1288 Left 2 !.inc Vreg.lib
TEXT 112 -1424 Left 2 ;éventuellement diode particulière\n(voir doc)
TEXT -512 -976 Left 2 ;signaux permettant à la simulation de fonctionner\nen attendant que le circuit générant vB et vimp\n soit opérationnel
